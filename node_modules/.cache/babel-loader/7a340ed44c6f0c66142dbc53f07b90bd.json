{"ast":null,"code":"import _slicedToArray from\"/home/sumit/Desktop/NoteKeeperApp/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import Header from\"./Header\";import{useHistory}from\"react-router-dom\";import LoginButton from\"./LoginButton\";function Login(){var history=useHistory();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),message=_useState2[0],setMessage=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),isSuccessFullLogin=_useState4[0],setIsSuccessFullLogin=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),loginCode=_useState6[0],setLoginCode=_useState6[1];var _useState7=useState(localStorage.isVisited),_useState8=_slicedToArray(_useState7,2),isVisited=_useState8[0],setIsVisited=_useState8[1];function handleInputChange(event){var newLoginCode=event.target.value;setLoginCode(newLoginCode);}function handleClickEvent(event){if(isVisited){if(loginCode===localStorage.code){setIsSuccessFullLogin(1);setMessage(\"SucceFully Logged In\");setLoginCode(\"\");// take to home screen\nsetTimeout(function(){setIsSuccessFullLogin(0);// history = [];\nhistory.push(\"/notes\");},1500);}else{setIsSuccessFullLogin(2);setMessage(\"Enter Correct Code! TRY AGAIN\");}}else{localStorage.code=loginCode;localStorage.isVisited=true;setIsVisited(localStorage.isVisited);setIsSuccessFullLogin(1);}setLoginCode(\"\");setTimeout(function(){setIsSuccessFullLogin(0);},2500);event.preventDefault();}var errorMessageObj={color:\"red\",display:\"hidden\",marginBottom:\"20px\"};if(isSuccessFullLogin===1){errorMessageObj.color=\"green\";errorMessageObj.display=\"block\";}else if(isSuccessFullLogin===2){errorMessageObj.color=\"red\";errorMessageObj.display=\"block\";}else{errorMessageObj.display=\"none\";}return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Header,{isLoggedIn:false,isEditCode:false}),/*#__PURE__*/React.createElement(\"div\",{className:\"login-form\"},/*#__PURE__*/React.createElement(\"p\",{style:errorMessageObj},message),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",min:\"100000000\",max:\"999999999\",onChange:handleInputChange,placeholder:\"Enter 9-digit code\",value:loginCode}),/*#__PURE__*/React.createElement(LoginButton,{text:!isVisited?\"SET CODE\":\"GET IN\",href:\"#\",onClick:handleClickEvent})));}export default Login;","map":{"version":3,"sources":["/home/sumit/Desktop/NoteKeeperApp/src/components/Login.jsx"],"names":["React","useState","Header","useHistory","LoginButton","Login","history","message","setMessage","isSuccessFullLogin","setIsSuccessFullLogin","loginCode","setLoginCode","localStorage","isVisited","setIsVisited","handleInputChange","event","newLoginCode","target","value","handleClickEvent","code","setTimeout","push","preventDefault","errorMessageObj","color","display","marginBottom"],"mappings":"oHAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,OAAQC,UAAR,KAA0B,kBAA1B,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CAEA,QAASC,CAAAA,KAAT,EAAiB,CACb,GAAIC,CAAAA,OAAO,CAAGH,UAAU,EAAxB,CACA,cAA8BF,QAAQ,CAAC,EAAD,CAAtC,wCAAOM,OAAP,eAAgBC,UAAhB,eACA,eAAoDP,QAAQ,CAAC,CAAD,CAA5D,yCAAOQ,kBAAP,eAA2BC,qBAA3B,eACA,eAAkCT,QAAQ,CAAC,EAAD,CAA1C,yCAAOU,SAAP,eAAkBC,YAAlB,eACA,eAAkCX,QAAQ,CAACY,YAAY,CAACC,SAAd,CAA1C,yCAAOA,SAAP,eAAkBC,YAAlB,eAEA,QAASC,CAAAA,iBAAT,CAA2BC,KAA3B,CAAkC,CAC9B,GAAMC,CAAAA,YAAY,CAAGD,KAAK,CAACE,MAAN,CAAaC,KAAlC,CACAR,YAAY,CAACM,YAAD,CAAZ,CACH,CAGD,QAASG,CAAAA,gBAAT,CAA2BJ,KAA3B,CAAkC,CAC9B,GAAGH,SAAH,CAAc,CACV,GAAGH,SAAS,GAAKE,YAAY,CAACS,IAA9B,CAAoC,CAChCZ,qBAAqB,CAAC,CAAD,CAArB,CACAF,UAAU,CAAC,sBAAD,CAAV,CACAI,YAAY,CAAC,EAAD,CAAZ,CACA;AACAW,UAAU,CAAC,UAAM,CACbb,qBAAqB,CAAC,CAAD,CAArB,CACA;AACAJ,OAAO,CAACkB,IAAR,CAAa,QAAb,EACH,CAJS,CAIP,IAJO,CAAV,CAMH,CAXD,IAWO,CACHd,qBAAqB,CAAC,CAAD,CAArB,CACAF,UAAU,CAAC,+BAAD,CAAV,CACH,CACJ,CAhBD,IAgBO,CACHK,YAAY,CAACS,IAAb,CAAoBX,SAApB,CACAE,YAAY,CAACC,SAAb,CAAyB,IAAzB,CACAC,YAAY,CAACF,YAAY,CAACC,SAAd,CAAZ,CACAJ,qBAAqB,CAAC,CAAD,CAArB,CACH,CACDE,YAAY,CAAC,EAAD,CAAZ,CACAW,UAAU,CAAC,UAAM,CACbb,qBAAqB,CAAC,CAAD,CAArB,CACH,CAFS,CAEP,IAFO,CAAV,CAIAO,KAAK,CAACQ,cAAN,GACH,CAGD,GAAMC,CAAAA,eAAe,CAAG,CACpBC,KAAK,CAAE,KADa,CAEpBC,OAAO,CAAE,QAFW,CAGpBC,YAAY,CAAE,MAHM,CAAxB,CAMA,GAAGpB,kBAAkB,GAAK,CAA1B,CAA6B,CACzBiB,eAAe,CAACC,KAAhB,CAAwB,OAAxB,CACAD,eAAe,CAACE,OAAhB,CAA0B,OAA1B,CACH,CAHD,IAGO,IAAGnB,kBAAkB,GAAK,CAA1B,CAA4B,CAC/BiB,eAAe,CAACC,KAAhB,CAAwB,KAAxB,CACAD,eAAe,CAACE,OAAhB,CAA0B,OAA1B,CACH,CAHM,IAGA,CACHF,eAAe,CAACE,OAAhB,CAA0B,MAA1B,CACH,CAGD,mBAAO,4CACH,oBAAC,MAAD,EAAQ,UAAU,CAAE,KAApB,CAA2B,UAAU,CAAE,KAAvC,EADG,cAQH,2BAAK,SAAS,CAAC,YAAf,eACI,yBAAG,KAAK,CAAEF,eAAV,EAA6BnB,OAA7B,CADJ,cAEI,6BAAO,IAAI,CAAC,QAAZ,CAAqB,GAAG,CAAC,WAAzB,CAAqC,GAAG,CAAC,WAAzC,CAAqD,QAAQ,CAAES,iBAA/D,CAAkF,WAAW,CAAC,oBAA9F,CAAmH,KAAK,CAAEL,SAA1H,EAFJ,cAII,oBAAC,WAAD,EAAa,IAAI,CAAE,CAACG,SAAD,CAAa,UAAb,CAA0B,QAA7C,CAAuD,IAAI,CAAC,GAA5D,CAAgE,OAAO,CAAEO,gBAAzE,EAJJ,CARG,CAAP,CAmBH,CAED,cAAehB,CAAAA,KAAf","sourcesContent":["import React, { useState } from \"react\";\nimport Header from \"./Header\";\nimport {useHistory } from \"react-router-dom\";\nimport LoginButton from \"./LoginButton\";\n\nfunction Login() {\n    let history = useHistory();\n    const [message, setMessage] = useState(\"\");\n    const [isSuccessFullLogin, setIsSuccessFullLogin] = useState(0);\n    const [loginCode, setLoginCode] = useState(\"\");\n    const [isVisited, setIsVisited] = useState(localStorage.isVisited);\n    \n    function handleInputChange(event) {\n        const newLoginCode = event.target.value;\n        setLoginCode(newLoginCode);\n    }\n\n    \n    function handleClickEvent (event) {\n        if(isVisited) {\n            if(loginCode === localStorage.code) {\n                setIsSuccessFullLogin(1);\n                setMessage(\"SucceFully Logged In\");\n                setLoginCode(\"\");\n                // take to home screen\n                setTimeout(() => {\n                    setIsSuccessFullLogin(0);\n                    // history = [];\n                    history.push(\"/notes\");\n                }, 1500);\n                \n            } else {\n                setIsSuccessFullLogin(2);\n                setMessage(\"Enter Correct Code! TRY AGAIN\");\n            }\n        } else {\n            localStorage.code = loginCode;\n            localStorage.isVisited = true;\n            setIsVisited(localStorage.isVisited);\n            setIsSuccessFullLogin(1);\n        }\n        setLoginCode(\"\");\n        setTimeout(() => {\n            setIsSuccessFullLogin(0);\n        }, 2500);\n\n        event.preventDefault();\n    }\n\n\n    const errorMessageObj = {\n        color: \"red\",\n        display: \"hidden\",\n        marginBottom: \"20px\" \n    }\n\n    if(isSuccessFullLogin === 1) {\n        errorMessageObj.color = \"green\";\n        errorMessageObj.display = \"block\";\n    } else if(isSuccessFullLogin === 2){\n        errorMessageObj.color = \"red\";\n        errorMessageObj.display = \"block\";\n    } else {\n        errorMessageObj.display = \"none\";\n    }\n\n\n    return <div>\n        <Header isLoggedIn={false} isEditCode={false} />\n        {/* { \n            isSuccessFullLogin!==1 &&\n            <Link to=\"/editCode\">\n                <EditIconComponent />\n            </Link>\n        } */}\n        <div className=\"login-form\" >\n            <p style={errorMessageObj} >{message}</p>\n            <input type=\"number\" min=\"100000000\" max=\"999999999\" onChange={handleInputChange} placeholder=\"Enter 9-digit code\" value={loginCode} ></input>\n            \n            <LoginButton text={!isVisited ? \"SET CODE\" : \"GET IN\"} href=\"#\" onClick={handleClickEvent}/>\n        </div>\n    </div> \n    \n    \n    \n    \n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}